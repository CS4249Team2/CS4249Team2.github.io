<!DOCTYPE html>
<html>
<head>
    <title>Test Logging</title>
    <script src="paramurl.js" type="text/javascript"></script> 
    <script src="logging.js" type="text/javascript"></script>
    <script src="knn.js" type="text/javascript"></script>
    <script>
    userId = getQueryVariable('userId').slice(1,getQueryVariable('userId').length-1);
    questionId = getQueryVariable('questionId').slice(1,getQueryVariable('questionId').length-1);
    listLength = getQueryVariable('listLength').slice(1,getQueryVariable('listLength').length-1);
    layoutId = getQueryVariable('layoutId').slice(1,getQueryVariable('layoutId').length-1);
    console.log(listLength);
    </script>
</head>
<body>

<h1>Press the start button once you are ready </h1>

<button id ='start' onclick="clickStart()" type="button">
    Start</button>

<script>
    const layoutMapping = {
        1: "Modal without filter",
        2: "Modal with filter"
    }
    const questionIdMapping = {
        1: "Male, Hdb-approved, < 4 years old",
        2: "Male, Hdb-approved, 4-8 years old",
        3: "Male, Hdb-approved, >8 years old"
    }
    function clickStart() {
        console.log('startclicked');
        sendCustomEvent("StartButtonClicked", "StartButtonClicked", {"layoutId": layoutId, 
        "layout": layoutMapping[layoutId], "listLength": listLength, 
        "questionId": questionId, "question": questionIdMapping[questionId] } );
        setTimeout(() => { location.href = 'dogs-for-adoption.html?' + 'userId={' + userId 
        + '}&questionId={' + questionId + '}&listLength={' + listLength + '}&layoutId={' +layoutId + '}'; }, 1000);
    }

</script>



</body>
</html>

